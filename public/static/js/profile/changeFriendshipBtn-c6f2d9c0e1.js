class ChangeBtnClass{constructor(n){this.btn=n}addClick(){this.btn.click((n=>{n.preventDefault(),this.ajaxCallForChangingFriendship()}))}changeBtn(n,e){console.log(e);let s=$(" #friendshipBtnDiv");if(s.html(""),"accept"==e||"reject"==e){return console.log(e),$(` #FriendRequestElement-${n.friendshipId}`).remove(),"accept"==e?s.append(`\n                    <a href="/users/send-friend-request/unfriend/?friendship=${n.friendshipId}" data-action="unfriend" class="friendshipActionBtn"><button type="button" class="btn btn-outline-danger" ><i class="fas fa-user-times me-2"></i><span> Unfriend</span></button></a>\n                `):s.append(`\n                <a href="/users/send-friend-request/?from_user=${n.to_user._id}&to_user=${n.from_user._id}" data-action="add friend" class="friendshipActionBtn"><button type="button" class="btn btn-info" ><i class="fas fa-user-plus me-2"></i><span> Add Friend</span></button></a>\n\n                `)}return"cancel"==e?s.append(`\n            <a href="/users/send-friend-request/?from_user=${n.from_user._id}&to_user=${n.to_user._id}" data-action="add friend" class="friendshipActionBtn"><button type="button" class="btn btn-info" ><i class="fas fa-user-plus me-2"></i><span> Add Friend</span></button></a>\n\n            `):"add friend"==e?s.append(`\n            <a href="/users/send-friend-request/reply/?friendship=${n.friendshipId}&reply=reject&to_user=${n.to_user}" class="friendshipActionBtn" data-action="cancel"><button type="button" class="btn btn-secondary"><i class="fas fa-user-times me-2"></i><span> Cancel Request</span></button></a>\n            `):"unfriend"==e?s.append(`\n            <a href="/users/send-friend-request/?from_user=${n.locals_userId}&to_user=${n.currUserId}" class="friendshipActionBtn" data-action="add friend"><button type="button" class="btn btn-info"><i class="fas fa-user-plus me-2"></i><span> Add Friend</span></button></a>\n\n            `):void 0}ajaxCallForChangingFriendship(){let n=this.btn.attr("href"),e=this.btn.attr("data-action");$.ajax({type:"Post",url:n,success:n=>{let s=this.changeBtn(n,e).find("a");console.log(s),console.log(n),s=new ChangeBtnClass($(s)),s.addClick()},error:function(n){console.log(n.responseText)}})}}let changeFriendshipBtns=$(" .friendshipActionBtn");for(let n=0;n<changeFriendshipBtns.length;n++){let e=changeFriendshipBtns.eq(n),s=new ChangeBtnClass(e);s.btn.click((function(n){n.preventDefault(),s.ajaxCallForChangingFriendship()}))}